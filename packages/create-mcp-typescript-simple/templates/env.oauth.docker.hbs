# Docker-specific OAuth configuration
# Copy this file to .env.oauth.docker and configure for Docker deployment
#
# IMPORTANT: This file is EXCLUSIVELY for Docker Compose multi-node testing
# - Uses nginx load balancer on port {{nginxPort}} (not direct server port)
# - Shared Redis session storage across all container instances
# - Configure OAuth redirect URIs for localhost:{{nginxPort}} (nginx port)

# ===== Security Configuration (REQUIRED for Docker) =====
# Token Encryption Key - AES-256-GCM encryption for all token storage
# This key is unique to this project - DO NOT share or commit to git
TOKEN_ENCRYPTION_KEY={{{tokenEncryptionKey}}}

# ===== OAuth Testing Mode =====
# Uncomment this line to test Docker without configuring OAuth providers
# This allows testing multi-node deployment and Redis session persistence
# without setting up OAuth credentials
#MCP_DEV_SKIP_AUTH=true

# ===== OAuth Provider Configuration =====
# Configure at least one OAuth provider for production Docker deployment
# Redirect URIs must use nginx load balancer port ({{nginxPort}})

# ===== Google OAuth Configuration =====
# Get these from: https://console.cloud.google.com/
# GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=your_google_client_secret
# GOOGLE_REDIRECT_URI=http://localhost:{{nginxPort}}/auth/google/callback
# GOOGLE_SCOPES=openid,email,profile

# ===== GitHub OAuth Configuration =====
# Get these from: https://github.com/settings/developers
# GITHUB_CLIENT_ID=your_github_client_id
# GITHUB_CLIENT_SECRET=your_github_client_secret
# GITHUB_REDIRECT_URI=http://localhost:{{nginxPort}}/auth/github/callback
# GITHUB_SCOPES=user:email,read:user

# ===== Microsoft OAuth Configuration =====
# Get these from: https://portal.azure.com/ (App registrations)
# MICROSOFT_CLIENT_ID=your_azure_app_id
# MICROSOFT_CLIENT_SECRET=your_azure_client_secret
# MICROSOFT_REDIRECT_URI=http://localhost:{{nginxPort}}/auth/microsoft/callback
# MICROSOFT_TENANT_ID=common
# MICROSOFT_SCOPES=openid,profile,email,User.Read

# ===== Generic OAuth Configuration =====
# For custom providers (GitLab, Auth0, Okta, etc.)
# OAUTH_CLIENT_ID=your_client_id
# OAUTH_CLIENT_SECRET=your_client_secret
# OAUTH_REDIRECT_URI=http://localhost:{{nginxPort}}/auth/oauth/callback
# OAUTH_AUTHORIZATION_URL=https://your-provider.com/oauth/authorize
# OAUTH_TOKEN_URL=https://your-provider.com/oauth/token
# OAUTH_USER_INFO_URL=https://your-provider.com/api/user
# OAUTH_REVOCATION_URL=https://your-provider.com/oauth/revoke
# OAUTH_PROVIDER_NAME=Your Custom Provider
# OAUTH_SCOPES=openid,profile,email

# ===== Redis Configuration =====
# Redis URL is auto-configured by docker-compose.yml (redis://redis:6379)
# For non-Docker deployments, set manually: redis://localhost:6379

# Redis key prefix for multi-app isolation (default: no prefix)
# Set this to run multiple MCP apps on the same Redis instance without key conflicts
# Example: 'mcp-main' creates keys like 'mcp-main:oauth:client:abc123'
# Note: Colon separator is added automatically if not present
# REDIS_KEY_PREFIX=mcp-persistence

# ===== Environment =====
NODE_ENV=development
